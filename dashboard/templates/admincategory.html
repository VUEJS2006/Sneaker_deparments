{% extends 'base.html' %}

{% block title %}Admin Category{% endblock %}
{% load static %}

{% block content %}
{% include 'sider.html'%}

<div class="main-wrapper" style="margin-left: 300px;">

	<main class="main-content-wrapper">
		<div class="container">
			<!-- row -->
			<div class="row mb-8">
				<div class="col-md-12">
					<div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center gap-4">
						<!-- pageheader -->
						<div>
							<h2>Categories Deparment</h2>
							<!-- breacrumb -->
						</div>
						<!-- button -->
						<div>
							<button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addModal">Add New
								Category</button>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-xl-12 col-12 mb-5">
					<!-- card -->
					<div class="card h-100 card-lg">
						<div class="px-6 py-6">
							<div class="row justify-content-between">
								<div class="col-lg-4 col-md-6 col-12 mb-2 mb-md-0">
									<!-- form -->
									<form class="d-flex" role="search">
										<input class="form-control" type="search" placeholder="Search Category"
											aria-label="Search" />
									</form>
								</div>
								<!-- select option -->

							</div>
						</div>
						<!-- card body -->
						<div class="card-body p-0">
							<!-- table -->
							<div class="table-responsive">
								<table
									class="table table-centered table-hover mb-0 text-nowrap table-borderless table-with-checkbox">
									<thead class="bg-light">
										<tr>
											<th>No</th>
											<th>Name</th>
											<th>Status</th>
											<th scope="col">Action</th>
										</tr>
									</thead>
									<tbody>
										{% for category in categories %}
										<tr>
											<td>{{forloop.counter}}</td>
											<td>{{category.name}}</td>
											<td>200ok</td>
											<td>
												<button class="btn btn-success" data-bs-toggle="modal"
													data-bs-target="#updateModal_{{category.id}}">Update</button>
												<button class="btn btn-danger" data-bs-toggle="modal"
													data-bs-target="#deleteModal_{{category.id}}">Delete</button>
											</td>
										</tr>
										{% endfor %}

							</div>
							</td>
							</tr>
							</tbody>
							</table>
						</div>
					</div>
					<div
						class="border-top d-flex justify-content-between align-items-md-center px-6 py-6 flex-md-row flex-column gap-4">
						<span>Showing 1 to 8 of 12 entries</span>
						<nav>
							<ul class="pagination mb-0">
								<li class="page-item disabled"><a class="page-link" href="#!">Previous</a></li>
								<li class="page-item"><a class="page-link active" href="#!">1</a></li>
								<li class="page-item"><a class="page-link" href="#!">2</a></li>
								<li class="page-item"><a class="page-link" href="#!">3</a></li>
								<li class="page-item"><a class="page-link" href="#!">Next</a></li>
							</ul>
						</nav>
					</div>
				</div>
			</div>
		</div>
</div>
<!-- crete -->

<div class="modal fade" id="addModal" tabindex="-1" aria-labelledby="addModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content border-0 shadow">

			<div class="modal-header bg-primary text-white">
				<h5 class="modal-title" id="addModalLabel">Add New Category</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>

			<div class="modal-body">
				<form method="POST" action="{% url 'admincategorycreate'%}">
					{% csrf_token %}
					<div class="mb-3 text-start">
						<label for="productName" class="form-label">Category Name</label>
						<input type="text" class="form-control" name="name" id="productName"
							placeholder="Enter Category Name" required>
					</div>
					<div class="text-end">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
						<button type="submit" class="btn btn-primary">Save</button>
					</div>
				</form>
			</div>

		</div>
	</div>
</div>
<!-- Update -->
{% for category in categories %}
<div class="modal fade" id="updateModal_{{category.id}}" tabindex="-1" aria-labelledby="updateModalLabel"
	aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content border-0 shadow">

			<div class="modal-header bg-primary text-white">
				<h5 class="modal-title" id="updateModalLabel">Update Category</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<form method="POST" action="{% url 'admincategoryupdate' category.id%}">
					{% csrf_token %}
					<div class="mb-3 text-start">
						<label for="productName" class="form-label">Category Name</label>
						<input type="text" class="form-control" name="name" value="{{category.name}}" id="productName"
							placeholder="Enter Category Name" required>
					</div>
					<div class="text-end">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
						<button type="submit" class="btn btn-primary">Update</button>
					</div>
				</form>
			</div>

		</div>
	</div>
</div>
{% endfor %}
<!-- Delete -->
{% for category in categories %}
<div class="modal fade" id="deleteModal_{{category.id}}" tabindex="-1" aria-labelledby="deleteModalLabel"
	aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content border-0 shadow">

			<div class="modal-header bg-primary text-white">
				<h5 class="modal-title" id="deleteModalLabel">Delete Category</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<form method="POST" action="{% url 'admincategorydelete' category.id%}">
					{% csrf_token %}
					<h4 class="text-center">Are you sure delete this?</h4>
					<div class="text-end mt-3 align-items-center d-flex justify-content-center">
						<button type="submit" class="btn btn-primary">Delete</button>
					</div>
				</form>
			</div>

		</div>
	</div>
</div>
{% endfor %}
<script src="{% static 'js/bootstrap.bundle.min.js'%}"></script>
<script src="{% static 'js/bootstrap.bundle.min.js'%}"></script>

<script src="{% static 'js/theme.min.js'%}"></script>

{% endblock %}